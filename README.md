### 总结
1. **什么是平衡二叉树**：
      - 基于二叉排序树
      - 左右子树的深度之差的绝对值不超过1
      - 左右子树都是平衡二叉树
2. **为什么要修改二叉排序树为平衡二叉树**：因为查找二叉树的比较次数和层数有关
3. 在构造二叉排序树的过程中，会出现四种失衡现象
![](https://img2020.cnblogs.com/blog/1759737/202010/1759737-20201016010637440-146832525.png)

4. **如何进行调整**：找到最小不平衡子树，将其调平衡
      - 最小不平衡子树：离插入节点最近且平衡因子绝对值超过1的结点，以这个结点为根节点的子树
5. LL型：**右旋**，原本橙点是root，右旋后，绿点是root，橙点为绿点的right
      - 注意：绿点的right可能有结点，所以要用橙点的left接上
      - 以上图第三个为例
![](https://img2020.cnblogs.com/blog/1759737/202010/1759737-20201016011158075-204574903.png)

6. RR型：**左旋**，原本橙点是root，左旋后，绿点是root，橙点为绿点的left
      - 注意：绿点的left可能有结点，所以要用橙点的right接上
      - 以上图第三个为例
![](https://img2020.cnblogs.com/blog/1759737/202010/1759737-20201016011441935-962084230.png)

7. LR型：**双旋**，先对**绿点（LL中的橙点）和蓝点（LL中的绿点）**进行RR左旋，在对橙点进行LL右旋
      - 解释：左旋使LR型变为LL型，右旋使LL型平衡
      - 注意：对两个点也能进行RR左旋
![](https://img2020.cnblogs.com/blog/1759737/202010/1759737-20201016012750505-301936083.png)
![](https://img2020.cnblogs.com/blog/1759737/202010/1759737-20201016012808004-1097795300.png)
8. RL型：和LR型对称操作

### 代码思路

1. 注意过程中要对树进行操作的函数的参数一定要传入**指针的引用**
2. 递归插入结点insert
      - 如果curr为空，即找到最终位置，申请内存新建节点
      - 如果传入参数num小于当前结点的data，递归进入左子树
      - 如果传入参数num大于当前节点的data，递归进入右子树
3. 插入结点后，就要退出递归，进行平衡因子的更新
      - 通过getHeight即可得到左子树和右子树的高度
      - 若平衡因子<1，继续退出递归
      - 若平衡因子>1，即不平衡，就要判断不平衡的类型了
           - 由第一张图可得，RX型橙点-2，LX型橙点2
           - RL型绿点1，RR型绿点-1，LR型绿点-1，LL型绿点1
           - 每个类型都有自己的特征，进入if判断
4. 右旋要注意绿点的right，左旋要注意绿点的left
5. 插入节点后和调平衡后，要更新改变过的结点的高度，绿点和橙点

### 结果
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215643443-438813366.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215243439-956225655.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215257371-2013061407.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215312845-2025592134.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215435676-1407556144.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215459293-1419644923.png)
![](https://img2020.cnblogs.com/blog/1759737/202102/1759737-20210202215614146-1370469444.png)
